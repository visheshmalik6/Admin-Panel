<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Student Cards â€” Local Storage</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#071124;
    --card:#0b1220;
    --accent-1:#ff6fcf;    /* pink */
    --accent-2:#6f7cff;    /* blue-violet */
    --accent-3:#60d5d8;    /* aqua */
    --muted:#9aa9bf;
    --glass: rgba(255,255,255,0.03);
    --glass-2: rgba(255,255,255,0.02);
    --radius:16px;
    --shadow-lg: 0 18px 50px rgba(2,6,23,0.6);
    --shadow-soft: 0 8px 30px rgba(2,6,23,0.45);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    min-height:100vh;
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    background:
      radial-gradient(900px 420px at 8% 12%, rgba(111,124,255,0.06), transparent 8%),
      radial-gradient(900px 420px at 92% 88%, rgba(255,111,207,0.04), transparent 8%),
      linear-gradient(180deg, #050814 0%, var(--bg) 100%);
    color:#e9f1fb;
    padding:36px;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* floating decorative blobs */
  .scene-blob{
    position:fixed;
    pointer-events:none;
    filter: blur(80px);
    opacity:0.12;
    z-index:0;
  }
  .b1{ right:-200px; top:-160px; width:520px; height:520px; background: radial-gradient(circle, var(--accent-1) 0%, transparent 40%); }
  .b2{ left:-160px; bottom:-140px; width:420px; height:420px; background: radial-gradient(circle, var(--accent-2) 0%, transparent 40%); }

  header{
    display:flex;
    gap:16px;
    align-items:center;
    justify-content:space-between;
    margin-bottom:22px;
    position:relative;
    z-index:2;
  }
  h1{
    font-size:20px;
    margin:0;
    letter-spacing:0.2px;
    font-weight:700;
  }
  p.lead{ margin:0; color:var(--muted); font-size:13px }

  .container{
    display:grid;
    grid-template-columns: 420px 1fr;
    gap:28px;
    align-items:start;
    position:relative;
    z-index:2;
  }

  /* Panel */
  .panel{
    background: linear-gradient(180deg,var(--glass),var(--glass-2));
    border-radius:var(--radius);
    padding:20px;
    box-shadow: var(--shadow-lg), inset 0 1px 0 rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.04);
    display:flex;
    flex-direction:column;
    gap:12px;
    min-height:320px;
  }
  .panel h2{ margin:0 0 6px 0; font-size:16px }
  label{ display:block; font-size:13px; margin-top:10px; color:var(--muted) }

  input[type="text"], input[type="number"], input[type="email"], textarea {
    width:100%;
    margin-top:8px;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.03);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    color:inherit;
    outline:none;
    font-size:14px;
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  }
  input:focus, textarea:focus {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(111,124,255,0.06);
    border-color: rgba(111,124,255,0.18);
  }
  textarea{ min-height:90px; resize:vertical }
  .form-row{ display:flex; gap:10px; }
  .btn{
    display:inline-flex;
    gap:10px;
    align-items:center;
    padding:10px 14px;
    border-radius:12px;
    background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
    color:#021025;
    border:none;
    cursor:pointer;
    font-weight:700;
    margin-top:14px;
    box-shadow: 0 10px 30px rgba(111,124,255,0.06);
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
  }
  .btn.secondary{
    background: transparent;
    color:var(--muted);
    border:1px solid rgba(255,255,255,0.035);
    box-shadow:none;
    font-weight:600;
  }
  .btn:active{ transform: translateY(1px) }
  .btn:hover{ transform: translateY(-3px); box-shadow: var(--shadow-soft); }

  /* Cards */
  .cards-wrap{
    display:flex;
    flex-direction:column;
    gap:14px;
  }
  .cards-head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
  }
  .cards-head strong{ font-size:15px; font-weight:700 }
  .cards-head small{ color:var(--muted) }

  .search-row{
    display:flex;
    gap:10px;
    margin-bottom:8px;
    align-items:center;
  }
  .search-row input{ flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:inherit }

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fill,minmax(240px,1fr));
    gap:14px;
  }

  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    padding:14px;
    border:1px solid rgba(255,255,255,0.03);
    display:flex;
    gap:12px;
    align-items:flex-start;
    transform-origin:center;
    transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s, border-color .18s;
  }
  .card:hover{ transform: translateY(-8px); box-shadow: var(--shadow-lg); border-color: rgba(111,124,255,0.12) }

  .avatar{
    width:64px;
    height:64px;
    border-radius:12px;
    flex-shrink:0;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    display:grid;
    place-items:center;
    font-weight:700;
    font-size:18px;
    color:var(--muted);
    overflow:hidden;
    position:relative;
    box-shadow: inset 0 -6px 20px rgba(0,0,0,0.4);
  }
  .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

  .meta{ flex:1; min-width:0 }
  .meta h3{ margin:0; font-size:15px; font-weight:700; color:#ffffff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
  .meta p{ margin:6px 0 0 0; font-size:13px; color:var(--muted); overflow:hidden; text-overflow:ellipsis; white-space:nowrap }
  .chips{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap }
  .chip{
    font-size:12px;
    padding:6px 8px;
    border-radius:999px;
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.02);
    color:var(--muted);
    max-width: 160px;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
  }

  .controls{ display:flex; gap:8px; margin-left:8px; align-items:center }
  .icon-btn{
    border:none; background:transparent; color:var(--muted); cursor:pointer;
    padding:8px; border-radius:8px; transition: background .12s, transform .12s;
    font-size:16px;
  }
  .icon-btn:hover{ background: rgba(255,255,255,0.02); color:var(--accent-1); transform: translateY(-3px); }

  .empty{
    border: 1px dashed rgba(255,255,255,0.04);
    border-radius:12px;
    padding:34px;
    text-align:center;
    color:var(--muted);
  }

  /* small screens */
  @media (max-width:980px){
    .container{ grid-template-columns: 1fr; }
    .panel{ order:2 }
    .home-grid{ gap:18px }
  }

  /* subtle entry animation for cards */
  @keyframes popIn {
    from { opacity:0; transform: translateY(12px) scale(.995) }
    to { opacity:1; transform: translateY(0) scale(1) }
  }
  .card { animation: popIn .32s cubic-bezier(.2,.9,.2,1) both }

  /* scrollbar styling */
  ::-webkit-scrollbar { height:10px; width:10px }
  ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, var(--accent-1), var(--accent-2)); border-radius:12px }
  ::-webkit-scrollbar-track { background: transparent }

  /* small niceties */
  .meta h3, .meta p { user-select: none }
  .btn[disabled] { opacity:0.5; cursor:not-allowed }
</style>
</head>
<body>

<div class="scene-blob b1" aria-hidden="true"></div>
<div class="scene-blob b2" aria-hidden="true"></div>

<header>
  <div>
    <h1>Student Cards</h1>
    <p class="lead">Add students â€” they will be saved in your browser (localStorage).</p>
  </div>
  <div>
    <small style="color:var(--muted)">Local only â€¢ Private to this browser</small>
  </div>
</header>

<main class="container">
  <!-- FORM PANEL -->
  <section class="panel" aria-labelledby="form-title">
    <h2 id="form-title">Add / Edit Student</h2>

    <form id="studentForm" onsubmit="return false" autocomplete="off">
      <input type="hidden" id="studentId" value="" />

      <label for="name">Full name</label>
      <input id="name" type="text" placeholder="e.g. Asha Kumar" required />

      <div class="form-row">
        <div style="flex:1">
          <label for="age">Age</label>
          <input id="age" type="number" min="1" max="120" placeholder="17" />
        </div>
        <div style="flex:1">
          <label for="className">Class / Grade</label>
          <input id="className" type="text" placeholder="10th / B.Tech 4th Sem" />
        </div>
      </div>

      <label for="roll">Roll No. (optional)</label>
      <input id="roll" type="text" placeholder="12345" />

      <label for="email">Email (optional)</label>
      <input id="email" type="email" placeholder="student@example.com" />

      <label for="photo">Photo URL (optional)</label>
      <input id="photo" type="text" placeholder="https://..." />

      <label for="notes">Notes</label>
      <textarea id="notes" placeholder="Any extra info"></textarea>

      <div style="display:flex; gap:8px; align-items:center">
        <button class="btn" id="saveBtn" type="button">Save student</button>
        <button class="btn secondary" id="clearFormBtn" type="button">Clear</button>
        <button class="btn secondary" id="clearAllBtn" type="button" style="margin-left:auto">Clear all</button>
      </div>
    </form>
  </section>

  <!-- CARDS PANEL -->
  <section class="cards-wrap">
    <div class="cards-head">
      <div style="display:flex; gap:10px; align-items:center;">
        <strong>Students</strong>
        <small style="color:var(--muted)">(<span id="count">0</span>)</small>
      </div>
      <div class="search-row" style="min-width:240px">
        <input id="search" type="text" placeholder="Search name / roll / class" />
      </div>
    </div>

    <div id="cardsGrid" class="grid" aria-live="polite">
      <!-- cards injected here -->
    </div>

    <div id="emptyState" class="empty" style="display:none;">
      No students yet â€” add one using the form on the left.
    </div>
  </section>
</main>

<script>
/* Simple client-side student manager using localStorage.
   - students stored as array under key "student_cards_v1"
   - supports add, edit, delete, search
*/

const STORAGE_KEY = "student_cards_v1";

function uid() {
  return 's_' + Math.random().toString(36).slice(2,10);
}

function loadStudents(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    return raw ? JSON.parse(raw) : [];
  }catch(e){
    console.error("Failed to parse students:", e);
    return [];
  }
}

function saveStudents(list){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
}

function renderStudents(filterText = "") {
  const grid = document.getElementById('cardsGrid');
  const empty = document.getElementById('emptyState');
  const count = document.getElementById('count');
  grid.innerHTML = "";
  let students = loadStudents();

  if (filterText) {
    const q = filterText.toLowerCase();
    students = students.filter(s =>
      (s.name || "").toLowerCase().includes(q) ||
      (s.roll || "").toLowerCase().includes(q) ||
      (s.className || "").toLowerCase().includes(q) ||
      (s.email || "").toLowerCase().includes(q)
    );
  }

  count.textContent = students.length;

  if (students.length === 0) {
    empty.style.display = "block";
    return;
  } else {
    empty.style.display = "none";
  }

  students.forEach(s => {
    const card = document.createElement('article');
    card.className = "card";

    const avatar = document.createElement('div');
    avatar.className = "avatar";
    if (s.photo) {
      const img = document.createElement('img');
      img.src = s.photo;
      img.alt = s.name || 'avatar';
      img.onerror = function(){ this.style.display = 'none'; avatar.textContent = initials(s.name) }
      avatar.appendChild(img);
    } else {
      avatar.textContent = initials(s.name);
    }

    const meta = document.createElement('div');
    meta.className = "meta";
    const h3 = document.createElement('h3');
    h3.textContent = s.name || "Unnamed";
    meta.appendChild(h3);

    const p = document.createElement('p');
    let parts = [];
    if (s.roll) parts.push("Roll: " + s.roll);
    if (s.className) parts.push(s.className);
    if (s.age) parts.push("Age: " + s.age);
    p.textContent = parts.join(" â€¢ ");
    meta.appendChild(p);

    const chips = document.createElement('div');
    chips.className = "chips";
    if (s.email) {
      const c = document.createElement('span'); c.className='chip'; c.textContent = s.email; chips.appendChild(c);
    }
    if (s.notes) {
      const c = document.createElement('span'); c.className='chip'; c.textContent = s.notes.length > 26 ? s.notes.slice(0,26) + 'â€¦' : s.notes; chips.appendChild(c);
    }
    meta.appendChild(chips);

    const controls = document.createElement('div');
    controls.className = "controls";
    const editBtn = document.createElement('button');
    editBtn.className = "icon-btn";
    editBtn.innerHTML = "âœï¸";
    editBtn.title = "Edit";
    editBtn.onclick = () => fillFormForEdit(s.id);

    const delBtn = document.createElement('button');
    delBtn.className = "icon-btn";
    delBtn.innerHTML = "ðŸ—‘ï¸";
    delBtn.title = "Delete";
    delBtn.onclick = () => {
      if (confirm(`Delete \"${s.name || 'student'}\"?`)) {
        deleteStudent(s.id);
      }
    };

    controls.appendChild(editBtn);
    controls.appendChild(delBtn);

    card.appendChild(avatar);
    card.appendChild(meta);
    card.appendChild(controls);

    grid.appendChild(card);
  });
}

function initials(name){
  if (!name) return "â€”";
  const parts = name.trim().split(/\s+/);
  if (parts.length === 1) return parts[0].slice(0,2).toUpperCase();
  return (parts[0][0] + parts[parts.length-1][0]).toUpperCase();
}

function addStudent(data){
  const list = loadStudents();
  list.unshift({...data, id: uid(), created: Date.now()});
  saveStudents(list);
  renderStudents(document.getElementById('search').value);
  clearForm();
}

function updateStudent(id, data){
  const list = loadStudents();
  const idx = list.findIndex(s=>s.id === id);
  if (idx === -1) return;
  list[idx] = {...list[idx], ...data, updated: Date.now()};
  saveStudents(list);
  renderStudents(document.getElementById('search').value);
  clearForm();
}

function deleteStudent(id){
  let list = loadStudents();
  list = list.filter(s=>s.id !== id);
  saveStudents(list);
  renderStudents(document.getElementById('search').value);
}

function fillFormForEdit(id){
  const list = loadStudents();
  const s = list.find(x=>x.id === id);
  if (!s) return;
  document.getElementById('studentId').value = s.id;
  document.getElementById('name').value = s.name || "";
  document.getElementById('age').value = s.age || "";
  document.getElementById('className').value = s.className || "";
  document.getElementById('roll').value = s.roll || "";
  document.getElementById('email').value = s.email || "";
  document.getElementById('photo').value = s.photo || "";
  document.getElementById('notes').value = s.notes || "";
  document.getElementById('name').focus();
  document.getElementById('saveBtn').textContent = "Update student";
}

function clearForm(){
  document.getElementById('studentId').value = "";
  document.getElementById('studentForm').reset();
  document.getElementById('saveBtn').textContent = "Save student";
}

function clearAll(){
  if (!confirm("Delete ALL students from this browser? This cannot be undone.")) return;
  localStorage.removeItem(STORAGE_KEY);
  renderStudents();
}

document.getElementById('saveBtn').addEventListener('click', () => {
  const id = document.getElementById('studentId').value || null;
  const payload = {
    name: document.getElementById('name').value.trim(),
    age: document.getElementById('age').value.trim(),
    className: document.getElementById('className').value.trim(),
    roll: document.getElementById('roll').value.trim(),
    email: document.getElementById('email').value.trim(),
    photo: document.getElementById('photo').value.trim(),
    notes: document.getElementById('notes').value.trim()
  };

  if (!payload.name) {
    alert("Please enter the student's name.");
    return;
  }

  if (id) updateStudent(id, payload);
  else addStudent(payload);
});

document.getElementById('clearFormBtn').addEventListener('click', clearForm);
document.getElementById('clearAllBtn').addEventListener('click', clearAll);

document.getElementById('search').addEventListener('input', (e) => {
  renderStudents(e.target.value);
});

// initialize
renderStudents();

</script>
</body>
</html>
